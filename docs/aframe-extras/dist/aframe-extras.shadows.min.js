!function e(t,a,s){function i(n,h){if(!a[n]){if(!t[n]){var r="function"==typeof require&&require;if(!h&&r)return r(n,!0);if(o)return o(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[n]={exports:{}};t[n][0].call(c.exports,function(e){var a=t[n][1][e];return i(a?a:e)},c,c.exports,e,t,a,s)}return a[n].exports}for(var o="function"==typeof require&&require,n=0;n<s.length;n++)i(s[n]);return i}({1:[function(e,t,a){e("./src/shadows").registerAll()},{"./src/shadows":2}],2:[function(e,t,a){t.exports={shadow:e("./shadow"),"shadow-light":e("./shadow-light"),registerAll:function(e){this._registered||(e=e||window.AFRAME,e.components.shadow||e.registerComponent("shadow",this.shadow),e.components["shadow-light"]||e.registerComponent("shadow-light",this["shadow-light"]),this._registered=!0)}}},{"./shadow":4,"./shadow-light":3}],3:[function(e,t,a){t.exports={schema:{angle:{"default":Math.PI/3},castShadow:{"default":!1},color:{"default":"#FFF"},groundColor:{"default":"#FFF"},decay:{"default":1},distance:{"default":0},exponent:{"default":10},intensity:{"default":1},shadowBias:{"default":0},shadowCameraFar:{"default":5e3},shadowCameraFov:{"default":50},shadowCameraNear:{"default":.5},shadowDarkness:{"default":.5},shadowMapHeight:{"default":512},shadowMapWidth:{"default":512},type:{"default":"directional"}},init:function(){var e=this.el;this.light=this.getLight(),e.object3D.add(this.light),e.sceneEl.systems.light.registerLight(e),e.sceneEl.hasLoaded||e.sceneEl.addEventListener("loaded",this.play.bind(this))},update:function(e){e=e||{},Object.keys(e).length&&(this.el.object3D.remove(this.light),this.light=this.getLight(),this.el.object3D.add(this.light))},play:function(){var e=this.el,t=e.sceneEl.renderer;t&&!t.shadowMap.enabled&&(t.shadowMap.enabled=!0)},getLight:function(){var e=this.data,t=new THREE.Color(e.color).getHex(),a=e.intensity,s=e.type;switch(s&&(s=s.toLowerCase()),s){case"ambient":return new THREE.AmbientLight(t);case"directional":return this.setShadow(new THREE.DirectionalLight(t,a));case"hemisphere":return new THREE.HemisphereLight(t,e.groundColor,a);case"point":return this.setShadow(new THREE.PointLight(t,a,e.distance,e.decay));case"spot":return this.setShadow(new THREE.SpotLight(t,a,e.distance,e.angle,e.exponent,e.decay));default:return new THREE.AmbientLight(t)}},setShadow:function(e){var t=this.data;return t.castShadow?(e.castShadow=t.castShadow,e.shadow.camera.near=t.shadowCameraNear,e.shadow.camera.far=t.shadowCameraFar,e.shadow.camera.fov=t.shadowCameraFov,e.shadow.darkness=t.shadowDarkness,e.shadow.mapSize.height=t.shadowMapHeight,e.shadow.mapSize.width=t.shadowMapWidth,e):e}}},{}],4:[function(e,t,a){t.exports={schema:{cast:{"default":!1},receive:{"default":!1}},init:function(){this.el.addEventListener("model-loaded",this.update.bind(this))},update:function(){var e=this.data;this.el.object3D.traverse(function(t){t instanceof THREE.Mesh&&(t.castShadow=e.cast,t.receiveShadow=e.receive)})},remove:function(){}}},{}]},{},[1]);